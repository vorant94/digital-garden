---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const posts = await getCollection('posts');

---

<Layout>
  <ul class="flex flex-col gap-1">
    {posts.map(post => (
        <li class="flex flex-col">
          <a class="hover:text-blue-600 hover:underline flex"
             href={`/posts/${post.slug}`}>
            <span class="flex-1 truncate">
              {post.data.title}
            </span>
            <span>
              {post.data.publishedAt.toLocaleDateString('en-US')}
            </span>
          </a>
        </li>
    ))}
  </ul>
</Layout>

<style>
</style>
