---
import PostList from '../components/PostList.astro';
import Layout from '../layouts/Layout.astro';
import Intro from '../components/Intro.astro';
import { Post } from '../shared/post.js';
import { getCollection } from 'astro:content';

const entries = Post.sortEntries(await getCollection('posts'));

const posts = await Promise.all(entries.map((entry) => Post.fromEntry(entry)));
---

<Layout>
  <Intro />
  <PostList posts={posts} />
</Layout>
